<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Content Generation - Education</title>
  
  <!-- Core CSS -->
  <link rel="stylesheet" href="main.css">
  
  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Merriweather:wght@400;700&family=Lora:wght@400;700&family=Montserrat:wght@400;700&family=Lato:wght@400;700&family=Quicksand:wght@400;700&family=Roboto:wght@400;700&family=Open+Sans:wght@400;700&family=Poppins:wght@400;700&family=Nunito:wght@400;700&display=swap" rel="stylesheet">
  
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  
  <!-- Animate.css -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
  
  <style>
    :root {
      --primary: rgba(30, 30, 47, 0.7);
      --accent: #fff;
      --bg: #181824;
      --card-bg: rgba(35, 35, 58, 0.55);
      --text: #f5f5f5;
      --shadow: 0 4px 24px rgba(0,0,0,0.2);
      --glass-blur: blur(12px);
      --glow: 0 0 16px 4px #fff, 0 0 32px 8px #b3e5fc33;
    }

    body {
      margin: 0;
      padding: 0;
      font-family: 'Lato', 'Montserrat', Arial, sans-serif;
      background: var(--bg);
      color: var(--text);
      min-height: 100vh;
    }

    /* Navbar */
    .navbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem 2rem;
      background: var(--primary);
      box-shadow: var(--shadow);
      position: sticky;
      top: 0;
      z-index: 10;
      backdrop-filter: var(--glass-blur);
      -webkit-backdrop-filter: var(--glass-blur);
      border-bottom: 1.5px solid #fff2;
    }

    .navbar .logo {
      font-family: 'Montserrat', sans-serif;
      font-size: 1.7rem;
      font-weight: 700;
      color: var(--accent);
      letter-spacing: 2px;
      text-decoration: none;
      display: flex;
      align-items: center;
      gap: 0.5em;
      text-shadow: var(--glow);
    }

    .navbar .nav-links {
      display: flex;
      gap: 1.5rem;
      align-items: center;
    }

    .navbar .nav-links a {
      color: var(--accent);
      text-decoration: none;
      font-weight: 500;
      font-size: 1rem;
      padding: 0.5em 1em;
      border-radius: 30px;
      transition: background 0.2s, color 0.2s, transform 0.2s, box-shadow 0.2s;
      position: relative;
      background: transparent;
      box-shadow: none;
    }

    .navbar .nav-links a:hover {
      background: #fff2;
      color: #181824;
      transform: translateY(-2px) scale(1.07);
      box-shadow: var(--glow);
    }

    .navbar .nav-links a.active {
      background: #fff2;
      color: #181824;
      box-shadow: var(--glow);
    }

    #theme-toggle {
      background: none;
      border: none;
      outline: none;
      cursor: pointer;
      font-size: 1.4rem;
      color: var(--accent);
      margin-left: 1.2rem;
      transition: color 0.2s;
    }

    /* Main Content */
    .container {
      max-width: 1200px;
      margin: 2rem auto;
      padding: 0 1rem;
      position: relative;
      z-index: 1;
    }

    .header {
      text-align: center;
      margin-bottom: 2rem;
    }

    .header h1 {
      font-family: 'Montserrat', sans-serif;
      font-size: 2.5rem;
      color: var(--accent);
      margin-bottom: 1rem;
      text-shadow: var(--glow);
    }

    .header p {
      color: #e0e0e0;
      font-size: 1.1rem;
    }

    /* Icon Grid */
    .icon-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(128px, 1fr));
      gap: 1rem;
      margin-bottom: 2rem;
    }

    .icon-item {
      background: var(--card-bg);
      padding: 1rem;
      border-radius: 12px;
      text-align: center;
      transition: transform 0.3s ease;
      backdrop-filter: var(--glass-blur);
      -webkit-backdrop-filter: var(--glass-blur);
      border: 1px solid #fff2;
    }

    .icon-item:hover {
      transform: translateY(-5px);
      box-shadow: var(--glow);
    }

    .icon-item img {
      width: 64px;
      height: 64px;
      object-fit: contain;
      filter: brightness(0) invert(1);
    }

    /* Generator Controls */
    .generator-controls {
      background: var(--card-bg);
      padding: 2rem;
      border-radius: 18px;
      margin-bottom: 2rem;
      backdrop-filter: var(--glass-blur);
      -webkit-backdrop-filter: var(--glass-blur);
      border: 1px solid #fff2;
    }

    .input-group {
      display: flex;
      gap: 1rem;
      margin-bottom: 1rem;
    }

    input[type="text"] {
      flex: 1;
      padding: 0.8rem 1.2rem;
      border: none;
      border-radius: 30px;
      background: rgba(255,255,255,0.1);
      color: var(--text);
      font-size: 1rem;
    }

    button {
      padding: 0.8rem 1.5rem;
      border: none;
      border-radius: 30px;
      background: rgba(255,255,255,0.15);
      color: var(--accent);
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    button:hover:not(:disabled) {
      background: rgba(255,255,255,0.25);
      transform: translateY(-2px);
      box-shadow: var(--glow);
    }

    button:disabled {
      opacity: 0.7;
      cursor: not-allowed;
      transform: none;
    }

    .font-loader {
      background: #2196F3;
      color: white;
    }

    .font-loader:hover:not(:disabled) {
      background: #1976D2;
    }

    /* Canvas Container */
    .canvas-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 1.5rem;
      margin-bottom: 2rem;
    }

    .canvas-wrapper {
      background: var(--card-bg);
      padding: 1rem;
      border-radius: 12px;
      backdrop-filter: var(--glass-blur);
      -webkit-backdrop-filter: var(--glass-blur);
      border: 1px solid #fff2;
    }

    canvas {
      width: 100%;
      height: auto;
      border-radius: 8px;
      background: var(--card-bg);
    }

    /* Footer */
    .footer {
      text-align: center;
      padding: 1rem;
      background: var(--primary);
      backdrop-filter: var(--glass-blur);
      -webkit-backdrop-filter: var(--glass-blur);
      border-top: 1px solid #fff2;
    }

    .footer a {
      color: var(--accent);
      text-decoration: none;
    }

    .footer a:hover {
      text-decoration: underline;
    }

    /* Hidden Images for Canvas */
    .hidden-images {
      display: none;
    }

    /* Enhanced Kaleidoscope Background */
    #kaleidoscope-bg {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
      opacity: 0.7;
      filter: blur(1px) brightness(1.2) saturate(1.3);
      transition: opacity 0.3s;
      pointer-events: none;
    }
  </style>
</head>
<body>
  <!-- Kaleidoscope Background Canvas -->
  <canvas id="kaleidoscope-bg"></canvas>
  
  <!-- Navbar -->
  <nav class="navbar animate__animated animate__fadeInDown">
    <a href="index.html" class="logo"><i class="fa fa-code"></i> Content Generators</a>
    <div class="nav-links">
      <a href="GenerationScreen_Healthcare.html"><i class="fa fa-hospital"></i> Healthcare</a>
      <a href="GenerationScreen_TechCompany.html"><i class="fa fa-robot"></i> Tech Company</a>
      <a href="GenerationScreen_ShopRegular.html"><i class="fa fa-store"></i> Shop</a>
      <a href="GenerationScreen_Education.html" class="active"><i class="fa fa-graduation-cap"></i> Education</a>
      <a href="index.html"><i class="fa fa-home"></i> Portfolio</a>
      <!-- Theme Toggle Button -->
      <button id="theme-toggle" aria-label="Toggle light/dark mode">
        <i id="theme-icon" class="fa fa-moon"></i>
      </button>
    </div>
  </nav>

  <div class="container">
    <div class="header">
      <h1>Generate Education Content</h1>
      <p>Create professional education-themed images with custom text and icons</p>
    </div>

    <!-- Hidden Images for Canvas -->
    <div class="hidden-images">
      <img id="eduicon1" src="https://cdn-icons-png.flaticon.com/512/3075/3075977.png" alt="School Icon" width="128" height="128">
      <img id="eduicon2" src="https://cdn-icons-png.flaticon.com/512/3075/3075980.png" alt="University Icon" width="128" height="128">
      <img id="eduicon3" src="https://cdn-icons-png.flaticon.com/512/3075/3075983.png" alt="Library Icon" width="128" height="128">
      <img id="eduicon4" src="https://cdn-icons-png.flaticon.com/512/3075/3075986.png" alt="Online Learning Icon" width="128" height="128">
      <img id="eduicon5" src="https://cdn-icons-png.flaticon.com/512/3075/3075989.png" alt="Research Icon" width="128" height="128">
      <img id="eduicon6" src="https://cdn-icons-png.flaticon.com/512/3075/3075992.png" alt="Student Icon" width="128" height="128">
      <img id="eduicon7" src="https://cdn-icons-png.flaticon.com/512/3075/3075995.png" alt="Teacher Icon" width="128" height="128">
      <img id="eduicon8" src="https://cdn-icons-png.flaticon.com/512/3075/3075998.png" alt="Course Icon" width="128" height="128">
      <img id="eduicon9" src="https://cdn-icons-png.flaticon.com/512/3075/3076001.png" alt="Certificate Icon" width="128" height="128">
    </div>

    <div class="icon-grid">
      <div class="icon-item"><img src="https://cdn-icons-png.flaticon.com/512/3075/3075977.png" alt="School Icon"></div>
      <div class="icon-item"><img src="https://cdn-icons-png.flaticon.com/512/3075/3075980.png" alt="University Icon"></div>
      <div class="icon-item"><img src="https://cdn-icons-png.flaticon.com/512/3075/3075983.png" alt="Library Icon"></div>
      <div class="icon-item"><img src="https://cdn-icons-png.flaticon.com/512/3075/3075986.png" alt="Online Learning Icon"></div>
      <div class="icon-item"><img src="https://cdn-icons-png.flaticon.com/512/3075/3075989.png" alt="Research Icon"></div>
      <div class="icon-item"><img src="https://cdn-icons-png.flaticon.com/512/3075/3075992.png" alt="Student Icon"></div>
      <div class="icon-item"><img src="https://cdn-icons-png.flaticon.com/512/3075/3075995.png" alt="Teacher Icon"></div>
      <div class="icon-item"><img src="https://cdn-icons-png.flaticon.com/512/3075/3075998.png" alt="Course Icon"></div>
      <div class="icon-item"><img src="https://cdn-icons-png.flaticon.com/512/3075/3076001.png" alt="Certificate Icon"></div>
    </div>

    <div class="generator-controls">
      <div class="input-group">
        <input type="text" id="imageText" placeholder="Enter your text here...">
        <button id="loadFonts" class="font-loader"><i class="fas fa-font"></i> Load Fonts</button>
        <button id="imageGenerator"><i class="fas fa-magic"></i> Generate</button>
        <button id="imageClear"><i class="fas fa-eraser"></i> Clear</button>
      </div>
    </div>

    <div class="canvas-container">
      <div class="canvas-wrapper">
        <canvas id="myCanvas" width="800" height="400"></canvas>
      </div>
      <div class="canvas-wrapper">
        <canvas id="myCanvas2" width="800" height="400"></canvas>
      </div>
      <div class="canvas-wrapper">
        <canvas id="myCanvas3" width="800" height="400"></canvas>
      </div>
      <div class="canvas-wrapper">
        <canvas id="myCanvas4" width="800" height="400"></canvas>
      </div>
      <div class="canvas-wrapper">
        <canvas id="myCanvas5" width="800" height="400"></canvas>
      </div>
      <div class="canvas-wrapper">
        <canvas id="myCanvas6" width="800" height="400"></canvas>
      </div>
      <div class="canvas-wrapper">
        <canvas id="myCanvas7" width="800" height="400"></canvas>
      </div>
      <div class="canvas-wrapper">
        <canvas id="myCanvas8" width="800" height="400"></canvas>
      </div>
      <div class="canvas-wrapper">
        <canvas id="myCanvas9" width="800" height="400"></canvas>
      </div>
    </div>

    <div class="generator-controls">
      <button id="btnDisplay"><i class="fas fa-image"></i> Display All as JPEG</button>
      <button id="btnDownload"><i class="fas fa-download"></i> Download Images</button>
    </div>

    <!-- Hidden Images for Display -->
    <div class="hidden-images">
      <img src="" id="imgConverted">
      <img src="" id="imgConverted2">
      <img src="" id="imgConverted3">
      <img src="" id="imgConverted4">
      <img src="" id="imgConverted5">
      <img src="" id="imgConverted6">
    </div>
  </div>

  <footer class="footer">
    <p>Icons made by <a href="https://www.flaticon.com/authors/smashicons" target="_blank">Smashicons</a> from 
    <a href="https://www.flaticon.com/" target="_blank">www.flaticon.com</a></p>
  </footer>

  <script>
    // Font loading functionality
    const loadFontsButton = document.querySelector("#loadFonts");
    const imageGenButton = document.querySelector("#imageGenerator");
    let fontsLoaded = false;

    // Function to load fonts
    async function loadFonts() {
      try {
        loadFontsButton.disabled = true;
        loadFontsButton.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Loading Fonts...';
        
        // Wait for fonts to be ready
        await document.fonts.ready;
        
        // Test if fonts are actually loaded by creating a test canvas
        const testCanvas = document.createElement('canvas');
        const testCtx = testCanvas.getContext('2d');
        
        // Test each font
        const fonts = ['Playfair Display', 'Merriweather', 'Lora', 'Montserrat', 'Lato', 'Quicksand', 'Roboto', 'Open Sans', 'Poppins', 'Nunito'];
        for (const font of fonts) {
          testCtx.font = `12px "${font}"`;
          if (testCtx.font.indexOf(font) === -1) {
            throw new Error(`Font ${font} not loaded properly`);
          }
        }
        
        fontsLoaded = true;
        loadFontsButton.innerHTML = '<i class="fas fa-check"></i> Fonts Loaded';
        loadFontsButton.style.backgroundColor = '#4CAF50';
        
        // Enable generate button
        imageGenButton.disabled = false;
      } catch (error) {
        console.error('Error loading fonts:', error);
        loadFontsButton.innerHTML = '<i class="fas fa-exclamation-triangle"></i> Font Loading Failed';
        loadFontsButton.style.backgroundColor = '#f44336';
        
        // Retry button
        setTimeout(() => {
          loadFontsButton.disabled = false;
          loadFontsButton.innerHTML = '<i class="fas fa-redo"></i> Retry Loading Fonts';
        }, 2000);
      }
    }

    // Add click handler for load fonts button
    loadFontsButton.addEventListener('click', loadFonts);

    // Initially disable generate button until fonts are loaded
    imageGenButton.disabled = true;

    // Wait for fonts to load before drawing
    document.fonts.ready.then(function() {
      //button and final image declaration
      const btnDisplay = document.querySelector("#btnDisplay");
      const btnDownload = document.querySelector("#btnDownload");

      const imgConverted = document.querySelector("#imgConverted");
      const imgConverted2 = document.querySelector("#imgConverted2");
      const imgConverted3 = document.querySelector("#imgConverted3");
      const imgConverted4 = document.querySelector("#imgConverted4");
      const imgConverted5 = document.querySelector("#imgConverted5");
      const imgConverted6 = document.querySelector("#imgConverted6");

      const imageGen = document.querySelector("#imageGenerator");
      const imageCl = document.querySelector("#imageClear");

      //querySelector declaration from htmlto js
      const myCanvas = document.querySelector("#myCanvas");
      const myCanvas2 = document.querySelector("#myCanvas2");
      const myCanvas3 = document.querySelector("#myCanvas3");
      const myCanvas4 = document.querySelector("#myCanvas4");
      const myCanvas5 = document.querySelector("#myCanvas5");
      const myCanvas6 = document.querySelector("#myCanvas6");
      const myCanvas7 = document.querySelector("#myCanvas7");
      const myCanvas8 = document.querySelector("#myCanvas8");
      const myCanvas9 = document.querySelector("#myCanvas9");

      //declaration of canvasÂ´s context
      const ctx = myCanvas.getContext("2d");
      const ctx2 = myCanvas2.getContext("2d");
      const ctx3 = myCanvas3.getContext("2d");
      const ctx4 = myCanvas4.getContext("2d");
      const ctx5 = myCanvas5.getContext("2d");
      const ctx6 = myCanvas6.getContext("2d");
      const ctx7 = myCanvas7.getContext("2d");
      const ctx8 = myCanvas8.getContext("2d");
      const ctx9 = myCanvas9.getContext("2d");

      //icon declaration
      var eduicon1 = document.getElementById("eduicon1");
      var eduicon2 = document.getElementById("eduicon2");
      var eduicon3 = document.getElementById("eduicon3");
      var eduicon4 = document.getElementById("eduicon4");
      var eduicon5 = document.getElementById("eduicon5");
      var eduicon6 = document.getElementById("eduicon6");
      var eduicon7 = document.getElementById("eduicon7");
      var eduicon8 = document.getElementById("eduicon8");
      var eduicon9 = document.getElementById("eduicon9");

      imageGen.addEventListener("click", async function() {
        if (!fontsLoaded) {
          alert("Please load fonts first!");
          return;
        }

        // Clear all canvases first
        ctx.clearRect(0, 0, myCanvas.width, myCanvas.height);
        ctx2.clearRect(0, 0, myCanvas2.width, myCanvas2.height);
        ctx3.clearRect(0, 0, myCanvas3.width, myCanvas3.height);
        ctx4.clearRect(0, 0, myCanvas4.width, myCanvas4.height);
        ctx5.clearRect(0, 0, myCanvas5.width, myCanvas5.height);
        ctx6.clearRect(0, 0, myCanvas6.width, myCanvas6.height);
        ctx7.clearRect(0, 0, myCanvas7.width, myCanvas7.height);
        ctx8.clearRect(0, 0, myCanvas8.width, myCanvas8.height);
        ctx9.clearRect(0, 0, myCanvas9.width, myCanvas9.height);

        const text = document.getElementById("imageText").value;

        // Wait for all images to load
        const images = [eduicon1, eduicon2, eduicon3, eduicon4, eduicon5, eduicon6, eduicon7, eduicon8, eduicon9];
        await Promise.all(images.map(img => {
          if (img.complete) return Promise.resolve();
          return new Promise(resolve => {
            img.onload = resolve;
            img.onerror = resolve;
          });
        }));

        // School Style - Icon 1
        ctx.font = "bold 70px 'Playfair Display'";
        ctx.fillStyle = "#FFFFFF";
        ctx.filter = "brightness(0) invert(1)";
        ctx.drawImage(eduicon1, 50, 50, 100, 100);
        ctx.filter = "none";
        ctx.fillText(text, 170, 120);
        // Draw school building pattern
        ctx.beginPath();
        ctx.rect(400, 150, 200, 100);
        ctx.moveTo(400, 150);
        ctx.lineTo(500, 100);
        ctx.lineTo(600, 150);
        ctx.strokeStyle = "#FFFFFF";
        ctx.lineWidth = 2;
        ctx.stroke();

        // University Style - Icon 2
        ctx2.font = "bold 65px 'Merriweather'";
        ctx2.fillStyle = "#FFFFFF";
        ctx2.filter = "brightness(0) invert(1)";
        ctx2.drawImage(eduicon2, 50, 50, 100, 100);
        ctx2.filter = "none";
        ctx2.fillText(text, 170, 120);
        // Draw university columns pattern
        ctx2.beginPath();
        for(let i = 0; i < 3; i++) {
          ctx2.rect(400 + i * 70, 150, 40, 100);
        }
        ctx2.strokeStyle = "#FFFFFF";
        ctx2.lineWidth = 2;
        ctx2.stroke();

        // Library Style - Icon 3
        ctx3.font = "bold 70px 'Lora'";
        ctx3.fillStyle = "#FFFFFF";
        ctx3.filter = "brightness(0) invert(1)";
        ctx3.drawImage(eduicon3, 50, 50, 100, 100);
        ctx3.filter = "none";
        ctx3.fillText(text, 170, 120);
        // Draw books pattern
        ctx3.beginPath();
        for(let i = 0; i < 5; i++) {
          ctx3.rect(400 + i * 50, 200, 30, 50);
        }
        ctx3.strokeStyle = "#FFFFFF";
        ctx3.lineWidth = 2;
        ctx3.stroke();

        // Online Learning Style - Icon 4
        ctx4.font = "bold 75px 'Montserrat'";
        ctx4.fillStyle = "#FFFFFF";
        ctx4.filter = "brightness(0) invert(1)";
        ctx4.drawImage(eduicon4, 50, 50, 100, 100);
        ctx4.filter = "none";
        ctx4.fillText(text, 170, 120);
        // Draw computer pattern
        ctx4.beginPath();
        ctx4.rect(400, 150, 200, 100);
        ctx4.moveTo(400, 150);
        ctx4.lineTo(500, 100);
        ctx4.lineTo(600, 150);
        ctx4.strokeStyle = "#FFFFFF";
        ctx4.lineWidth = 2;
        ctx4.stroke();

        // Research Style - Icon 5
        ctx5.font = "bold 60px 'Quicksand'";
        ctx5.fillStyle = "#FFFFFF";
        ctx5.filter = "brightness(0) invert(1)";
        ctx5.drawImage(eduicon5, 50, 50, 100, 100);
        ctx5.filter = "none";
        ctx5.fillText(text, 170, 120);
        // Draw microscope pattern
        ctx5.beginPath();
        ctx5.arc(500, 200, 30, 0, Math.PI * 2);
        ctx5.moveTo(500, 170);
        ctx5.lineTo(500, 230);
        ctx5.moveTo(470, 200);
        ctx5.lineTo(530, 200);
        ctx5.strokeStyle = "#FFFFFF";
        ctx5.lineWidth = 2;
        ctx5.stroke();

        // Student Style - Icon 6
        ctx6.font = "bold 80px 'Roboto'";
        ctx6.fillStyle = "#FFFFFF";
        ctx6.filter = "brightness(0) invert(1)";
        ctx6.drawImage(eduicon6, 50, 50, 100, 100);
        ctx6.filter = "none";
        ctx6.fillText(text, 170, 120);
        // Draw graduation cap pattern
        ctx6.beginPath();
        ctx6.moveTo(400, 200);
        ctx6.lineTo(600, 200);
        ctx6.lineTo(550, 250);
        ctx6.lineTo(450, 250);
        ctx6.closePath();
        ctx6.strokeStyle = "#FFFFFF";
        ctx6.lineWidth = 2;
        ctx6.stroke();

        // Teacher Style - Icon 7
        ctx7.font = "bold 70px 'Open Sans'";
        ctx7.fillStyle = "#FFFFFF";
        ctx7.filter = "brightness(0) invert(1)";
        ctx7.drawImage(eduicon7, 50, 50, 100, 100);
        ctx7.filter = "none";
        ctx7.fillText(text, 170, 120);
        // Draw chalkboard pattern
        ctx7.beginPath();
        ctx7.rect(400, 150, 200, 100);
        ctx7.moveTo(400, 180);
        ctx7.lineTo(600, 180);
        ctx7.moveTo(400, 210);
        ctx7.lineTo(600, 210);
        ctx7.strokeStyle = "#FFFFFF";
        ctx7.lineWidth = 2;
        ctx7.stroke();

        // Course Style - Icon 8
        ctx8.font = "bold 75px 'Poppins'";
        ctx8.fillStyle = "#FFFFFF";
        ctx8.filter = "brightness(0) invert(1)";
        ctx8.drawImage(eduicon8, 50, 50, 100, 100);
        ctx8.filter = "none";
        ctx8.fillText(text, 170, 120);
        // Draw book pattern
        ctx8.beginPath();
        ctx8.rect(400, 150, 200, 100);
        ctx8.moveTo(400, 150);
        ctx8.lineTo(500, 100);
        ctx8.lineTo(600, 150);
        ctx8.strokeStyle = "#FFFFFF";
        ctx8.lineWidth = 2;
        ctx8.stroke();

        // Certificate Style - Icon 9
        ctx9.font = "bold 65px 'Nunito'";
        ctx9.fillStyle = "#FFFFFF";
        ctx9.filter = "brightness(0) invert(1)";
        ctx9.drawImage(eduicon9, 50, 50, 100, 100);
        ctx9.filter = "none";
        ctx9.fillText(text, 170, 120);
        // Draw certificate pattern
        ctx9.beginPath();
        ctx9.rect(400, 150, 200, 100);
        ctx9.moveTo(400, 150);
        ctx9.lineTo(600, 150);
        ctx9.lineTo(600, 250);
        ctx9.lineTo(400, 250);
        ctx9.closePath();
        ctx9.strokeStyle = "#FFFFFF";
        ctx9.lineWidth = 2;
        ctx9.stroke();
      });

      imageCl.addEventListener("click", function() {
        // Clear all canvases
        ctx.clearRect(0, 0, myCanvas.width, myCanvas.height);
        ctx2.clearRect(0, 0, myCanvas2.width, myCanvas2.height);
        ctx3.clearRect(0, 0, myCanvas3.width, myCanvas3.height);
        ctx4.clearRect(0, 0, myCanvas4.width, myCanvas4.height);
        ctx5.clearRect(0, 0, myCanvas5.width, myCanvas5.height);
        ctx6.clearRect(0, 0, myCanvas6.width, myCanvas6.height);
        ctx7.clearRect(0, 0, myCanvas7.width, myCanvas7.height);
        ctx8.clearRect(0, 0, myCanvas8.width, myCanvas8.height);
        ctx9.clearRect(0, 0, myCanvas9.width, myCanvas9.height);
      });

      btnDisplay.addEventListener("click", function() {
        const dataURI = myCanvas.toDataURL("image/jpeg");
        const dataURI2 = myCanvas2.toDataURL("image/jpeg");
        const dataURI3 = myCanvas3.toDataURL("image/jpeg");
        const dataURI4 = myCanvas4.toDataURL("image/jpeg");
        const dataURI5 = myCanvas5.toDataURL("image/jpeg");
        const dataURI6 = myCanvas6.toDataURL("image/jpeg");
        imgConverted.src = dataURI;
        imgConverted2.src = dataURI2;
        imgConverted3.src = dataURI3;
        imgConverted4.src = dataURI4;
        imgConverted5.src = dataURI5;
        imgConverted6.src = dataURI6;
      });

      //to download using btnDownload
      btnDownload.addEventListener("click", function() {
        //ie/edge support(png only)
        if (window.navigator.msSaveBlob) {
          window.navigator.msSaveBlob(myCanvas.msToBlob(), "canvas-img.png")
          window.navigator.msSaveBlob(myCanvas2.msToBlob(), "canvas2-img.png")
          window.navigator.msSaveBlob(myCanvas3.msToBlob(), "canvas3-img.png")
          window.navigator.msSaveBlob(myCanvas4.msToBlob(), "canvas4-img.png")
          window.navigator.msSaveBlob(myCanvas5.msToBlob(), "canvas5-img.png")
          window.navigator.msSaveBlob(myCanvas6.msToBlob(), "canvas-img6.png")
        }
        //other browsers
        else {
          const a = document.createElement("a");
          document.body.appendChild(a);
          a.href = myCanvas.toDataURL();
          a.download = "canvas-img.jpeg";
          a.click();
          document.body.removeChild(a);
        }
      });
    });

    // Enhanced Kaleidoscope Background
    const canvas = document.getElementById('kaleidoscope-bg');
    const ctx = canvas.getContext('2d');
    let width, height;
    let mouse = { x: 0, y: 0 };
    let particles = [];
    let hue = 0;

    function resize() {
      width = canvas.width = window.innerWidth;
      height = canvas.height = window.innerHeight;
    }

    class Particle {
      constructor() {
        this.reset();
      }

      reset() {
        this.x = Math.random() * width;
        this.y = Math.random() * height;
        this.size = Math.random() * 3 + 1;
        this.speedX = Math.random() * 2 - 1;
        this.speedY = Math.random() * 2 - 1;
        this.hue = hue;
        this.connections = [];
        // Use education-themed colors (purple and white)
        this.color = Math.random() > 0.5 ? 'rgba(147, 112, 219, 0.5)' : 'rgba(255, 255, 255, 0.5)';
      }

      update() {
        this.x += this.speedX;
        this.y += this.speedY;

        if (this.x < 0 || this.x > width) this.speedX *= -1;
        if (this.y < 0 || this.y > height) this.speedY *= -1;

        // Mouse interaction
        const dx = mouse.x - this.x;
        const dy = mouse.y - this.y;
        const distance = Math.sqrt(dx * dx + dy * dy);
        if (distance < 100) {
          const angle = Math.atan2(dy, dx);
          this.x -= Math.cos(angle) * 0.5;
          this.y -= Math.sin(angle) * 0.5;
        }
      }

      draw() {
        ctx.fillStyle = this.color;
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
        ctx.fill();

        particles.forEach(particle => {
          const dx = this.x - particle.x;
          const dy = this.y - particle.y;
          const distance = Math.sqrt(dx * dx + dy * dy);
          if (distance < 100) {
            ctx.beginPath();
            const connectionColor = this.color.replace('0.5', `${0.2 * (1 - distance/100)}`);
            ctx.strokeStyle = connectionColor;
            ctx.lineWidth = 0.5;
            ctx.moveTo(this.x, this.y);
            ctx.lineTo(particle.x, particle.y);
            ctx.stroke();
          }
        });
      }
    }

    function init() {
      resize();
      particles = [];
      for (let i = 0; i < 100; i++) {
        particles.push(new Particle());
      }
    }

    function animate() {
      ctx.fillStyle = 'rgba(24, 24, 36, 0.1)';
      ctx.fillRect(0, 0, width, height);

      particles.forEach(particle => {
        particle.update();
        particle.draw();
      });

      requestAnimationFrame(animate);
    }

    // Mouse move event
    window.addEventListener('mousemove', (e) => {
      mouse.x = e.clientX;
      mouse.y = e.clientY;
    });

    window.addEventListener('resize', resize);
    init();
    animate();
  </script>
</body>
</html> 